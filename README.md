[English](./README.en.md) | **ä¸­æ–‡**

# Anti-Work

ğŸ”¥ å·¥ä½œè½¨è¿¹è®°å½•ä¸åˆ†æç³»ç»Ÿ

## æ¶æ„æ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å®¢æˆ·ç«¯ (æœ¬åœ°)                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Agent (CLI)       â”‚         Chrome Extension                  â”‚
â”‚   ç›‘æ§æœ¬åœ°ä»£ç å˜æ›´    â”‚         ç›‘æ§æµè§ˆå™¨æ´»åŠ¨                     â”‚
â”‚   æºå¸¦ UUID ä¸ŠæŠ¥     â”‚         æºå¸¦ UUID ä¸ŠæŠ¥                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚           HTTP + UUID          â”‚
          â–¼                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Server (æœ¬åœ°/äº‘ç«¯)                           â”‚
â”‚         ç”¨æˆ·è®¤è¯ + æ•°æ®æ¥æ”¶ + å­˜å‚¨ + ç”ŸæˆæŠ¥è¡¨                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## åŠŸèƒ½ç‰¹æ€§

- **ç”¨æˆ·ä½“ç³»**: ç®¡ç†å‘˜å’Œæ™®é€šç”¨æˆ·ï¼Œæ•°æ®éš”ç¦»
- **ä»£ç å˜æ›´ç»Ÿè®¡**: Agent ç›‘æ§ Git ä»“åº“ï¼Œæ™ºèƒ½å»é‡ä¸ŠæŠ¥
- **ç½‘ç«™æ´»åŠ¨è¿½è¸ª**: Chrome æ‰©å±•è®°å½•æµè§ˆæ´»åŠ¨ï¼Œæ”¯æŒåŸŸåç™½åå•
- **å·¥ä½œæ—¶é•¿åˆ†æ**: è‡ªåŠ¨è®¡ç®—å·¥ä½œæ—¶é•¿å’ŒåŠ ç­æ—¶é•¿
- **å¯è§†åŒ–æŠ¥è¡¨**: å¤šç»´åº¦æ•°æ®å±•ç¤ºä¸åˆ†æ
- **é…ç½®äº‘åŒæ­¥**: Agent/æ‰©å±•ä»æœåŠ¡ç«¯åŒæ­¥é…ç½®

## ğŸ“¸ æˆªå›¾é¢„è§ˆ

### é¦–é¡µä»ªè¡¨ç›˜
å®æ—¶å±•ç¤ºä»Šæ—¥å·¥ä½œæ¦‚è§ˆï¼ŒåŒ…æ‹¬ä»£ç æäº¤ã€ç½‘ç«™è®¿é—®ç­‰å…³é”®æŒ‡æ ‡
![é¦–é¡µä»ªè¡¨ç›˜](./images/home.png)

### ä»£ç æ´»åŠ¨ç»Ÿè®¡
æŒ‰ä»“åº“ã€æ—¶é—´ç»´åº¦åˆ†æä»£ç å˜æ›´æƒ…å†µï¼Œè¿½è¸ªå¼€å‘è¿›åº¦
![ä»£ç æ´»åŠ¨ç»Ÿè®¡](./images/code.png)

### ç½‘ç«™æ´»åŠ¨è¿½è¸ª
è®°å½•æµè§ˆå™¨è®¿é—®å†å²ï¼Œæ”¯æŒåŸŸåè¿‡æ»¤å’Œæ—¶é—´èŒƒå›´æŸ¥è¯¢
![ç½‘ç«™æ´»åŠ¨è¿½è¸ª](./images/web-site.png)

### å·¥ä½œæ—¶é•¿åˆ†æ
å¯è§†åŒ–å·¥ä½œæ—¶é—´åˆ†å¸ƒï¼Œè‡ªåŠ¨è¯†åˆ«æœ‰æ•ˆå·¥ä½œæ—¶æ®µ
![å·¥ä½œæ—¶é•¿åˆ†æ](./images/work-time.png)

### åŠ ç­ç»Ÿè®¡
ç²¾ç¡®ç»Ÿè®¡åŠ ç­æ—¶é•¿ï¼Œæ”¯æŒæŒ‰æ—¥/å‘¨/æœˆç»´åº¦æŸ¥çœ‹
![åŠ ç­ç»Ÿè®¡](./images/ot.png)

## å‰ç½®è¦æ±‚

- Node.js >= 18
- pnpm >= 8
- Docker & Docker Composeï¼ˆç”Ÿäº§éƒ¨ç½²ï¼‰

---

# ğŸ”§ å¼€å‘è°ƒè¯•

## 1. å…‹éš†å¹¶å®‰è£…ä¾èµ–

```bash
git clone https://github.com/your-username/anti-work.git
cd anti-work
pnpm install
```

## 2. å¯åŠ¨å¼€å‘ç¯å¢ƒ

ä¸€é”®å¯åŠ¨ Server + Web å‰ç«¯ï¼š

```bash
pnpm dev
```

æˆ–ä½¿ç”¨è„šæœ¬ï¼ˆè‡ªåŠ¨åˆå§‹åŒ–æ•°æ®åº“ï¼‰ï¼š

```bash
./scripts/dev.sh
```

å¯åŠ¨åè®¿é—®ï¼š**http://localhost:5173**

> **ç«¯å£è¯´æ˜**ï¼š
> - `5173` - å‰ç«¯å¼€å‘æœåŠ¡å™¨ï¼ˆVite çƒ­æ›´æ–°ï¼ŒAPI è‡ªåŠ¨ä»£ç†åˆ° 3000ï¼‰
> - `3000` - åç«¯ API æœåŠ¡ï¼ˆå¼€å‘æ—¶æ— éœ€ç›´æ¥è®¿é—®ï¼‰
>
> ä¹Ÿå¯åˆ†åˆ«å¯åŠ¨ï¼š
> - `pnpm dev:server` - ä»…å¯åŠ¨æœåŠ¡ç«¯
> - `pnpm dev:web` - ä»…å¯åŠ¨å‰ç«¯

## 3. åˆå§‹åŒ–ç®¡ç†å‘˜è´¦å·

é¦–æ¬¡è®¿é—®ä¼šè‡ªåŠ¨è·³è½¬åˆ°åˆå§‹åŒ–é¡µé¢ï¼š
- **å¼€å‘ç¯å¢ƒ**: http://localhost:5173
- **ç”Ÿäº§ç¯å¢ƒ**: http://localhost:3000

1. è¾“å…¥ç®¡ç†å‘˜ç”¨æˆ·åï¼ˆé»˜è®¤ `admin`ï¼‰
2. è®¾ç½®å¯†ç ï¼ˆè‡³å°‘8ä½ï¼‰
3. ç¡®è®¤å¯†ç 
4. ç‚¹å‡»ã€Œåˆ›å»ºç®¡ç†å‘˜è´¦å·ã€

## 4. è·å– UUID

ç™»å½•åå° â†’ ç”¨æˆ·ç®¡ç† â†’ åˆ›å»ºç”¨æˆ· â†’ å¤åˆ¶ UUID

> UUID ç”¨äº Agent å’Œ Chrome æ‰©å±•ä¸ŠæŠ¥æ•°æ®æ—¶æ ‡è¯†ç”¨æˆ·

## 5. æ„å»º Chrome æ‰©å±•ï¼ˆå¼€å‘ï¼‰

```bash
pnpm build:extension
```

è¾“å‡ºç›®å½•ï¼š`packages/extension/dist`

å®‰è£…åˆ° Chromeï¼š
1. æ‰“å¼€ `chrome://extensions/`
2. å¼€å¯ã€Œå¼€å‘è€…æ¨¡å¼ã€
3. ç‚¹å‡»ã€ŒåŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åºã€
4. é€‰æ‹© `packages/extension/dist` ç›®å½•

## 6. æ„å»º Agentï¼ˆå¼€å‘ï¼‰

```bash
pnpm build:agent
```

å¯åŠ¨ Agentï¼š

```bash
cd packages/agent
node dist/index.js start --uuid YOUR_UUID --watch ~/projects
```

---

# ğŸš€ ç”Ÿäº§éƒ¨ç½²

## æœåŠ¡ç«¯ï¼šDocker éƒ¨ç½²ï¼ˆæ¨èï¼‰

### æ­¥éª¤ 1ï¼šé…ç½®ç¯å¢ƒå˜é‡

```bash
cd docker
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œ**å¿…é¡»ä¿®æ”¹ä»¥ä¸‹é…ç½®**ï¼š

```bash
# JWT å¯†é’¥ï¼ˆå¿…é¡»ä¿®æ”¹ï¼ï¼‰
JWT_SECRET=your-super-secure-random-string

# MySQL å¯†ç ï¼ˆå»ºè®®ä¿®æ”¹ï¼‰
MYSQL_ROOT_PASSWORD=your-root-password
MYSQL_PASSWORD=your-db-password
```

### æ­¥éª¤ 2ï¼šä¸€é”®å¯åŠ¨

```bash
# ä»é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
pnpm docker:start

# æˆ–ç›´æ¥æ‰§è¡Œè„šæœ¬
./scripts/docker-start.sh
```

è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
1. æ£€æŸ¥ Docker ç¯å¢ƒ
2. åˆ›å»º `.env` é…ç½®ï¼ˆå¦‚ä¸å­˜åœ¨ï¼‰
3. æ„å»º Docker é•œåƒ
4. å¯åŠ¨æœåŠ¡ï¼ˆServer + MySQLï¼‰

### æ­¥éª¤ 3ï¼šåˆå§‹åŒ–ç³»ç»Ÿ

è®¿é—® http://localhost:3000ï¼Œåˆ›å»ºç®¡ç†å‘˜è´¦å·ã€‚

### å¸¸ç”¨å‘½ä»¤

```bash
cd docker

# æŸ¥çœ‹æ—¥å¿—
docker compose logs -f

# åœæ­¢æœåŠ¡
docker compose down

# é‡å¯æœåŠ¡
docker compose restart

# æŸ¥çœ‹çŠ¶æ€
docker compose ps
```

---

## æœ¬åœ°Agentï¼šå®‰è£… Agentï¼ˆå®¢æˆ·ç«¯ï¼‰

Agent è¿è¡Œåœ¨æœ¬åœ°ï¼Œç›‘æ§ä»£ç å˜æ›´å¹¶ä¸ŠæŠ¥åˆ°æœåŠ¡ç«¯ï¼Œä½¿ç”¨ PM2 è¿›ç¨‹ç®¡ç†ã€‚

### ä¸€é”®å®‰è£…ï¼ˆæ¨èï¼‰

```bash
./scripts/install-agent.sh --uuid YOUR_UUID
```

æˆ–é€šè¿‡ npmï¼š

```bash
pnpm agent:install -- --uuid YOUR_UUID
```

å¸¦æœåŠ¡å™¨åœ°å€ï¼š

```bash
./scripts/install-agent.sh --uuid YOUR_UUID --server http://your-server:3000
```

å‚æ•°è¯´æ˜ï¼š
| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `--uuid, -u` | ç”¨æˆ· UUIDï¼ˆå¿…å¡«ï¼‰ | - |
| `--server, -s` | æœåŠ¡å™¨åœ°å€ | http://localhost:3000 |

> **æ³¨æ„**: ç›‘æ§ç›®å½•ä»æœåŠ¡ç«¯é…ç½®è·å–ã€‚è¯·åœ¨æœåŠ¡ç«¯ã€Œç”¨æˆ·ç®¡ç†ã€â†’ã€Œç”¨æˆ·è®¾ç½®ã€ä¸­é…ç½® `watchPaths`

### PM2 å¸¸ç”¨å‘½ä»¤

```bash
# æŸ¥çœ‹çŠ¶æ€
pm2 status

# æŸ¥çœ‹æ—¥å¿—
pm2 logs anti-work-agent

# åœæ­¢æœåŠ¡
pm2 stop anti-work-agent

# å¯åŠ¨æœåŠ¡
pm2 start anti-work-agent

# é‡å¯æœåŠ¡
pm2 restart anti-work-agent

# åˆ é™¤æœåŠ¡
pm2 delete anti-work-agent
```

### å¼€æœºè‡ªå¯åŠ¨ï¼ˆå¯é€‰ï¼‰

```bash
pm2 startup
pm2 save
```

### æ‰‹åŠ¨å¯åŠ¨ï¼ˆè°ƒè¯•ç”¨ï¼‰

```bash
cd packages/agent
pnpm build
node dist/index.js start --uuid YOUR_UUID --server http://your-server:3000
```

---

## ç½‘é¡µç«¯ï¼šå®‰è£… Chrome æ‰©å±•

### æ­¥éª¤ 1ï¼šæ„å»ºæ‰©å±•

```bash
pnpm extension:build
```

æˆ–ä½¿ç”¨è„šæœ¬ï¼š

```bash
./scripts/build-extension-prod.sh
```

### æ­¥éª¤ 2ï¼šå®‰è£…åˆ° Chrome

1. æ‰“å¼€ Chrome æµè§ˆå™¨
2. è®¿é—® `chrome://extensions/`
3. å¼€å¯å³ä¸Šè§’ã€Œå¼€å‘è€…æ¨¡å¼ã€
4. ç‚¹å‡»ã€ŒåŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åºã€
5. é€‰æ‹©ç›®å½•ï¼š`packages/extension/dist`

### æ­¥éª¤ 3ï¼šé…ç½®æ‰©å±•

1. ç‚¹å‡» Chrome å·¥å…·æ çš„ Anti-Work æ‰©å±•å›¾æ ‡
2. å¡«å†™é…ç½®ï¼š
   - **æœåŠ¡å™¨åœ°å€**: ä½ çš„æœåŠ¡ç«¯åœ°å€ï¼ˆå¦‚ `http://your-server:3000`ï¼‰
   - **ç”¨æˆ· UUID**: åœ¨æœåŠ¡ç«¯ç”¨æˆ·ç®¡ç†é¡µé¢è·å–çš„ UUID
3. ç‚¹å‡»ã€Œä¿å­˜é…ç½®ã€
4. çŠ¶æ€æ˜¾ç¤ºã€Œå·²è¿æ¥ã€è¡¨ç¤ºé…ç½®æˆåŠŸ

---

# ğŸ“‹ å‘½ä»¤é€ŸæŸ¥è¡¨

## å¼€å‘è°ƒè¯•

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `pnpm dev` | å¯åŠ¨å¼€å‘ç¯å¢ƒï¼ˆServer + Webï¼‰ |
| `pnpm dev:server` | ä»…å¯åŠ¨ Server |
| `pnpm dev:web` | ä»…å¯åŠ¨ Web å‰ç«¯ |
| `pnpm build` | æ„å»ºæ‰€æœ‰æ¨¡å— |
| `pnpm build:extension` | æ„å»º Chrome æ‰©å±• |
| `pnpm build:agent` | æ„å»º Agent |

## æ•°æ®åº“

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `pnpm db:generate` | ç”Ÿæˆ Prisma Client |
| `pnpm db:push` | æ¨é€æ•°æ®åº“ç»“æ„ |
| `pnpm db:migrate` | æ‰§è¡Œæ•°æ®åº“è¿ç§» |
| `pnpm db:seed` | å¡«å……æµ‹è¯•æ•°æ® |

## ç”Ÿäº§éƒ¨ç½²

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `pnpm docker:start` | Docker ä¸€é”®éƒ¨ç½² |
| `pnpm agent:install` | Agent ä¸€é”®å®‰è£… |
| `pnpm extension:build` | æ„å»º Chrome æ‰©å±•ï¼ˆç”Ÿäº§ï¼‰ |


---

# ğŸ“ é¡¹ç›®ç»“æ„

```
anti-work/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ server/      # æœåŠ¡ç«¯ (Fastify + Prisma)
â”‚   â”œâ”€â”€ agent/       # æœ¬åœ° Agent (CLI)
â”‚   â”œâ”€â”€ web/         # å‰ç«¯ (React + Vite + TailwindCSS)
â”‚   â””â”€â”€ extension/   # Chrome æ‰©å±• (MV3)
â”œâ”€â”€ scripts/         # è¿è¡Œè„šæœ¬
â”‚   â”œâ”€â”€ dev.sh                 # å¼€å‘ç¯å¢ƒå¯åŠ¨
â”‚   â”œâ”€â”€ build-extension.sh     # æ„å»º Chrome æ‰©å±•
â”‚   â”œâ”€â”€ build-agent.sh         # æ„å»º Agent
â”‚   â”œâ”€â”€ docker-start.sh        # Docker ä¸€é”®éƒ¨ç½²
â”‚   â”œâ”€â”€ install-agent.sh       # Agent ä¸€é”®å®‰è£…
â”‚   â””â”€â”€ build-extension-prod.sh # ç”Ÿäº§æ„å»º Chrome æ‰©å±•
â”œâ”€â”€ config/          # æœåŠ¡ç«¯é…ç½®
â”œâ”€â”€ docker/          # Docker éƒ¨ç½²æ–‡ä»¶
â”‚   â”œâ”€â”€ docker-compose.yml        # MySQL ç‰ˆæœ¬ï¼ˆé»˜è®¤ï¼‰
â”‚   â”œâ”€â”€ docker-compose.sqlite.yml # SQLite ç‰ˆæœ¬ï¼ˆå¤‡é€‰ï¼‰
â”‚   â”œâ”€â”€ Dockerfile                # MySQL ç‰ˆæœ¬
â”‚   â””â”€â”€ Dockerfile.sqlite         # SQLite ç‰ˆæœ¬
â”œâ”€â”€ .env.example     # ç¯å¢ƒå˜é‡æ¨¡æ¿
â””â”€â”€ package.json
```

---

# âš™ï¸ é…ç½®è¯´æ˜

## ç¯å¢ƒå˜é‡ (.env)

| å˜é‡ | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `SERVER_PORT` | æœåŠ¡å™¨ç«¯å£ | 3000 |
| `SERVER_HOST` | æœåŠ¡å™¨åœ°å€ | 0.0.0.0 |
| `DATABASE_URL` | æ•°æ®åº“è¿æ¥ | file:./data/anti-work.db |
| `JWT_SECRET` | JWT å¯†é’¥ | change-this-in-production |
| `JWT_EXPIRES_IN` | JWT è¿‡æœŸæ—¶é—´ | 7d |
| `AUTH_ENABLED` | æ˜¯å¦å¯ç”¨è®¤è¯ | false |

## Docker ç¯å¢ƒå˜é‡ (docker/.env)

| å˜é‡ | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `SERVER_PORT` | æœåŠ¡ç«¯å£ | 3000 |
| `JWT_SECRET` | JWT å¯†é’¥ | **å¿…é¡»ä¿®æ”¹** |
| `MYSQL_ROOT_PASSWORD` | MySQL root å¯†ç  | rootpassword |
| `MYSQL_DATABASE` | æ•°æ®åº“å | antiwork |
| `MYSQL_USER` | æ•°æ®åº“ç”¨æˆ· | antiwork |
| `MYSQL_PASSWORD` | æ•°æ®åº“å¯†ç  | antiwork |
| `TZ` | æ—¶åŒº | Asia/Shanghai |

## ç”¨æˆ·é…ç½®ï¼ˆåå°è®¾ç½®ï¼‰

| é…ç½®é¡¹ | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|--------|
| watchPaths | ç›‘æ§ç›®å½•åˆ—è¡¨ | [] |
| pollInterval | æ‰«æé—´éš”ï¼ˆç§’ï¼‰ | 300 |
| excludePatterns | æ’é™¤æ¨¡å¼ | node_modules, .git ç­‰ |
| domainWhitelist | åŸŸåç™½åå• | []ï¼ˆç©ºè¡¨ç¤ºå…¨éƒ¨ï¼‰ |
| domainBlacklist | åŸŸåé»‘åå• | [] |
| sanitizePatterns | è„±æ•æ­£åˆ™ | [] |
| workTimeStart | ä¸Šç­æ—¶é—´ | 09:00 |
| workTimeEnd | ä¸‹ç­æ—¶é—´ | 18:00 |
| lunchStart | åˆä¼‘å¼€å§‹ | 12:00 |
| lunchEnd | åˆä¼‘ç»“æŸ | 14:00 |

---

# ğŸ‘¥ ç”¨æˆ·ä½“ç³»

## è§’è‰²æƒé™

| è§’è‰² | æƒé™ |
|------|------|
| ç®¡ç†å‘˜ | æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·æ•°æ®ã€ç”¨æˆ·ç®¡ç†ã€è‡ªå·±ä¹Ÿå¯ä¸ŠæŠ¥æ•°æ® |
| æ™®é€šç”¨æˆ· | åªèƒ½æŸ¥çœ‹è‡ªå·±çš„æ•°æ®ã€é…ç½®è‡ªå·±çš„è®¾ç½® |

## è®¤è¯æ–¹å¼

| åœºæ™¯ | æ–¹å¼ |
|------|------|
| åå°ç™»å½• | ç”¨æˆ·å + å¯†ç  â†’ JWT |
| Agent/æ‰©å±•ä¸ŠæŠ¥ | HTTP Header `X-User-UUID` |

---

# ğŸ“¡ API æ–‡æ¡£

## è®¤è¯æ¥å£

| æ–¹æ³• | è·¯å¾„ | æè¿° |
|------|------|------|
| GET | /api/auth/status | æ£€æŸ¥ç³»ç»Ÿæ˜¯å¦å·²åˆå§‹åŒ– |
| POST | /api/auth/setup | åˆå§‹åŒ–ç®¡ç†å‘˜è´¦å·ï¼ˆä»…é¦–æ¬¡å¯ç”¨ï¼‰ |
| POST | /api/auth/login | ç™»å½• |
| GET | /api/auth/me | è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯ |
| PUT | /api/auth/password | ä¿®æ”¹å¯†ç  |

## ç”¨æˆ·ç®¡ç†ï¼ˆç®¡ç†å‘˜ï¼‰

| æ–¹æ³• | è·¯å¾„ | æè¿° |
|------|------|------|
| GET | /api/users | ç”¨æˆ·åˆ—è¡¨ |
| POST | /api/users | åˆ›å»ºç”¨æˆ· |
| PUT | /api/users/:id | æ›´æ–°ç”¨æˆ· |
| PUT | /api/users/:id/disable | ç¦ç”¨/å¯ç”¨ç”¨æˆ· |
| DELETE | /api/users/:id | åˆ é™¤ç”¨æˆ· |
| GET | /api/users/:uuid/config | è·å–ç”¨æˆ·é…ç½®ï¼ˆAgent/æ‰©å±•ç”¨ï¼‰ |

## æ•°æ®ä¸ŠæŠ¥ï¼ˆéœ€ UUIDï¼‰

| æ–¹æ³• | è·¯å¾„ | Header | æè¿° |
|------|------|--------|------|
| POST | /api/track/code | X-User-UUID | ä¸ŠæŠ¥ä»£ç å˜æ›´ |
| POST | /api/track/web | X-User-UUID | ä¸ŠæŠ¥ç½‘ç«™æ´»åŠ¨ |
| POST | /api/track/web/batch | X-User-UUID | æ‰¹é‡ä¸ŠæŠ¥ç½‘ç«™æ´»åŠ¨ |

## ç»Ÿè®¡æ¥å£ï¼ˆéœ€ç™»å½•ï¼‰

| æ–¹æ³• | è·¯å¾„ | å‚æ•° | æè¿° |
|------|------|------|------|
| GET | /api/stats/today | userId? | ä»Šæ—¥æ¦‚è§ˆ |
| GET | /api/stats/daily | date?, userId? | æ—¥æŠ¥ç»Ÿè®¡ |
| GET | /api/stats/weekly | week?, userId? | å‘¨æŠ¥ç»Ÿè®¡ |
| GET | /api/stats/monthly | month?, userId? | æœˆæŠ¥ç»Ÿè®¡ |
| GET | /api/stats/overtime | start?, end?, userId? | åŠ ç­ç»Ÿè®¡ |
| GET | /api/stats/web-activities | start?, end?, domain?, userId? | ç½‘ç«™æ´»åŠ¨è¯¦æƒ… |

## é…ç½®æ¥å£

| æ–¹æ³• | è·¯å¾„ | æè¿° |
|------|------|------|
| GET | /api/config/me | è·å–è‡ªå·±çš„é…ç½® |
| PUT | /api/config/me | æ›´æ–°è‡ªå·±çš„é…ç½® |

## ä»“åº“æ¥å£

| æ–¹æ³• | è·¯å¾„ | æè¿° |
|------|------|------|
| GET | /api/repos | ä»“åº“åˆ—è¡¨ |
| GET | /api/repos/:name | ä»“åº“è¯¦æƒ… |

---

# ğŸ”„ é‡ç½®æ•°æ®

```bash
# æ¸…é™¤ Agent æœ¬åœ°çŠ¶æ€
rm -rf ~/.anti-work

# é‡ç½®æ•°æ®åº“ï¼ˆä¼šæ¸…ç©ºæ‰€æœ‰æ•°æ®ï¼‰
cd packages/server
pnpm db:push --force-reset
```

é‡ç½®æ•°æ®åº“åï¼Œå†æ¬¡è®¿é—® Web é¡µé¢ä¼šè‡ªåŠ¨è·³è½¬åˆ°åˆå§‹åŒ–é¡µé¢é‡æ–°è®¾ç½®ç®¡ç†å‘˜è´¦å·ã€‚

---

# ğŸ›  æŠ€æœ¯æ ˆ

- **æœåŠ¡ç«¯**: Node.js, Fastify, Prisma, JWT
- **Agent**: Node.js, Commander, simple-git, node-cron
- **å‰ç«¯**: React, Vite, TailwindCSS, Recharts, React Query
- **æ‰©å±•**: Chrome Extension MV3
- **æ•°æ®åº“**: SQLite / MySQL

---

# ğŸ“„ License

MIT
